## JSP 태그의 개념 이해

Servlet은 JAVA언어를 이용하여 문서를 작성하고, 출력객체(PrintWriter객체)를 이용하여 HTML코드를 삽입합니다.

JSP는 Servlet과 반대로 HTML코드에 JAVA언어를 삽입하여 동적 문서를 만들 수 있습니다.

HTML코드안에 JAVA코드를 삽입하기 위해서는 다음과 같은 태그를 이용합니다.  
|정의|코드|설명|
|---|---|---|
|스크립트릿|<%	   %>|JAVA 코드|
|선언|<%!	   %>|전역변수 및 메소드 선언|
|표현식|<%=	   %>|결과값 출력|
|주석|<%--	 --%>|WAS에서 이 주석은 제거하고 응답페이지를 만든다|
|지시자|<%@	   %>|페이지 속성 ex.import, page|
|액션태그|<jsp:action></jsp:action>|표준액션태그  ex.파일연결 및 자바빈 연결|
|커스텀액션태그|<c:set></c:set>|후에 다룰 예정|

## 1. 스크립트릿(scriptlet)

<% java 코드 %>

코드블럭이라고도 합니다.  
jsp문서에서 자바코드를 작성하고싶다면 기본적으로 코드블럭 안에 작성해야 합니다.

## 2. 선언(declaration)

<%! java 코드 기술 %>

변수 또는 메소드를 선언할 때 사용합니다.  
여기서 선언된 변수 및 메소드는 페이지 어느곳에서나 사용가능한 전역의 의미로 사용됩니다.  
이 전역변수는 객체가 소멸되기전까지는 메모리에서 소멸되지않고 계속 값이 유지됩니다.

스크립트릿은 자바스크립트와 같이 위에서부터 아래로 순차적으로 실행이 됩니다.  
따라서 보통은 변수를 아래에서 정의하면 찾을수 없으니 에러가 발생합니다.  
그러나 예외가 선언부 <%! %> 입니다.  
이전에 배웠던 자바스크립트에서도 선언적 함수는 아래에서 명시할수 있었던 것처럼 아래에서 선언부로 선언이 가능합니다.


### 여기서 잠깐 다시 배우는 자바에서의 전역변수와 지역변수의 차이
자바에서 함수 내에서 변수 선언을 하면 함수 내에서만 사용 가능한 지역 변수로 선언됩니다. 초기값을 할당하지 않으면 안에는 사용할수 없는 쓰레기값이 들어있고, 사용하려고 하면 에러가 납니다.  
그러나 전역변수(객체 멤버 변수)는 초기값을 지정하지 않고 선언만 해도 자동 초기화가 되기때문에 에러가 나지 않습니다.


## 3. 표현식(expression)

<%= java 코드 기술 %>

JSP 페이지 내에서 사용되는 변수의 값 또는 메소드 호출 결과값을 출력하기 위해 사용합니다.
세미콜론을 사용하지 않는점에 주의해야 합니다.

## 4. 주석

<%--	 --%>

응답 페이지에서는 이 주석은 보이지 않습니다.  
HTML 주석과 JSP 주석과 비교해보면 확실히 이해되는데,  
HTML주석은 브라우저 - 개발자 도구에서 보이는 반면, JSP주석은 보이지 않습니다.  
WAS에서 이 주석은 제거하고 응답페이지를 만들기 때문.

<%-- JSP 주석 --%>
<!-- HTML 주석 -->

페이지 소스보기를 해보면 HTML주석은 소스에서 보이게 됩니다.


## 5. 지시자

<%@	%>

JSP페이지의 전체적인 속성을 지정할 때 사용합니다.  
page, include, taglib 등이 있습니다.

### page
해당 페이지의 전체적인 속성을 지정합니다.

주로 사용되는 언어 지정 및 import문을 많이 사용, 문서 타입(html, excel..)  
<%@page import="java.util.Arrays"%>  // import해오는것

<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>  
이 페이지는 자바언어로 이루어져있고 페이지 인코딩은 UTF-8로 할것이고 이 문서를 읽는 브라우저는 text/html charset=UTF-8로 읽으세요 라는 명시

### include
별도의 페이지를 현재 페이지에 구현할때 사용합니다.  
header, footer 등 모든 페이지에서 반복되는 작업들에 이용하는 경우

예를들어 쿠팡사이트를 한번 훑어본다면, header,footer 부분은 사이트내에서 페이지 전환이 이루어져도 고정되어 있는것을 볼수 있습니다.  
그렇다고 모든 페이지에 헤더와 푸터를 명시해야한다면 코드의 중복이 심하고 비효율적입니다.  
그래서 하나를 만들면 include를 명시해서 가져오는것입니다.

원하는 body 내의 부분에 아래의 지시자를 사용하면  
<%@include file="../main/footer.jsp" %>  
해당 부분의 footer.jsp의 내용을 가져오게 됩니다. 

#### 단 여기서 주의할점
footer.jsp에 적용되어 있는 링크태그의 footer.css는 css선택자를  지정할 경우 footer div p 이런식으로 자세하게 지정해야 합니다.  
그렇지 않고 div 이렇게 지정하면 footer만이 아닌 모든 div가 지정이 되어버리기 때문에, 나중에 겉잡을수 없이 찾기 힘들게 됩니다.  
평상시에 css선택자를 사용할때 귀찮더라도 자세히 지정하는 습관을 들이는게 좋습니다.

### taglib
태그라이브러리(사용자가 만든 tag들)의 태그를 사용하는 경우.

태그라이브러리를 사용하기 위해 taglib지시자를 사용합니다.  
taglib 지시자에 대한 학습은 추후에 살펴볼 17장 JSTL(JSP stanard Tag Library)에서 배울 예정입니다.

JSP 표준 태그 라이브러리 (아파치 재단에서 배포)
후에 이를 배우게 되면 보다 간편하게 사용할수 있는 태그를 이용할수 있습니다.


