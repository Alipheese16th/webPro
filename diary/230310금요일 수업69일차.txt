# mvc 회원인증 예제
어제 인터페이스평가용으로 낸 페이지에 추가 기능 구현

### 어제 미숙했던 부분

MJoinService 구현이 제일 빡셋다

멀티파트 리퀘스트 객체를 구현했을때만 (try 절 안에서만)
다른 일반파라미터(아이디,비밀번호 등)을 받아야한다

1. 회원가입joinservice에서 아이디중복체크 안했다 구현해야함
2. 회원가입이 진행됐을때만 서버에 파일을 복사해야하는데 무조건 복사했다
3. 에러메세지등을 분기별로 문자열로 만들어놓고 그 상황이 발생하면 request에 탑재해서 뷰페이지에서 나타내는게 나았을거같다

## 정보수정

회원 정보를 수정할수있는 기능구현
컨트롤러에 modifyView.do 추가
modify.jsp에서 정보수정할수있는 form 태그 구현하는데
기존에 로그인중이던(세션member) 정보를 가져와서 미리 출력
또한 input type hidden으로 (기존비밀번호, 기존파일이름) 정보 넘기기 왜냐하면 미작성시 기존것 그대로 유지할것이기때문 (근데 안해도된다 세션에서 정보받아오는방법도있음)

이제 modifyService에서 수행하는데 파일첨부가있기때문에 멀티파트리퀘스트 객체 생성하고
파라미터받아야한다
현비밀번호(oldPw)와 세션비밀번호가 틀리면 비밀번호를 잘못적었기때문에 수행하지않고 빠꾸
새비밀번호(pw)를 치지않은경우 기존비밀번호(세션) 유지 - 세션정보를 받아와서 덮어쓰기
새사진(photo)을 첨부하지 않은경우 기존사진(세션) 유지 - 세션변수로 photo덮어쓰기
이제 파라미터를 다 받았으면 모아서 dao로 함수사용
수정성공시 세션에도 정보수정

## 전체회원보기
회원들의 목록을 나타내는데 페이징, 탑앤구문의 기능이 필요

request.setAttribute("BLOCKSIZE", BLOCKSIZE);
request.setAttribute("startPage", startPage);
request.setAttribute("endPage", endPage);
request.setAttribute("pageCnt", pageCnt);
request.setAttribute("currentPage", currentPage);

5개 실고 가면됨

## 회원탈퇴기능
원래는 테이블에서 진짜지우는게아니고 탈퇴여부라는 컬럼을 두고 1이나 0으로 설정하는데
어제 그런 컬럼을 설정하지못했으니까 진짜로 지우자 그냥



★
form input 태그에서 값을 입력하지 않으면 null인가? ""빈문자열인가?
햇갈리네 

선생님한테 물어봤다. form태그로 매개변수보내면 무조건 넘어간다. 즉 값이 없으면 "" 빈문자열이다. 애초에 페이지를 form태그 안들리고 접근한다든가 즉 매개변수자체가 넘어갈일이 없을때 null인것이다. 햇갈렸는데 정리가 됐다.
★


JSP 공부가 끝낫다
----------------------------------------------------------------
# jQuery

ajax 기능 ( 화면 전체가 바뀌는게 아닌 일부가 렌더링되는 기능)을 배워야함

이클립스에서 jQuery를 쓸건데 
이클립스를 새로운 환경에서 사용하려면 톰캣이 필요한데 기존의 톰캣은 무거우니까 
새로 톰캣폴더를 또 만들것이다.

이클립스의 워크스페이스를 바꾸면 이클립스 설정은 다 초기화된다.
새로운 톰캣폴더를 연동시키면 새로운 환경에서 실행한것과 마찬가지
톰캣서버 포트번호를 지정해야하는데 
기존 포트번호가 8005 8090 이었다
이번 jQuery 포트번호는 8006 8091 로 1씩증가시킬것이다
(안바꿔도 상관없는데 기존 jsp이클립스와 같이 실행하면 충돌남)

그리고 기존 이클립스설정 다시 설정하자

## 기본문법
jQuery는 기존 자바스크립트에 비해 훨씬 간단하게 사용할수있는 함수들이 있다
라이브러리이기때문에 다운로드를 해야한다

jquery.com 사이트에서 다운로드 - 페이지에 코드가 막 써져잇으면 이페이지다운로드(.js파일)

$('선택자').함수();

css선택자는 전부가능. 따옴표없이 this(객체 자신)도 사용가능

### 함수

1. html() : 해당 선택자 안에 html 코드 삽입
2. text() : 해당 선택자 안에 text를 삽입하거나 가져온다
3. css() : 1번매개변수(css타입), 2번매개변수(css내용)

---
jquery 를 script 에서 불러와서 사용하면 
사용자는 그걸 일일히 다운받아야할까? 너무 비효율적이다.
그래서 우리는 이렇게 다운로드해서 경로를 적어놓는게아니고
url 주소를 적어놓을것이다










