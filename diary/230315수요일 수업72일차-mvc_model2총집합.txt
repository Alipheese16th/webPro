
어제했던 ajax예제를 mvc패턴으로 변경

V 뷰페이지에서
C 컨트롤러를 거쳐
M 모델(service랑 dao)에서 처리

~~.do 를 요청하면 컨트롤러로 가서 service에서 로직수행후 request.setAttribute
jsp문서에서 EL표현식으로 출력.
이 과정을 ajax에서 ~~.do 요청하면 마지막 jsp문서가 응답하는식.


ajax에서 요청성공후 응답받은 data는
title때문에 trim이 잘안먹힘 
ajax처리문서에서는 타이틀은 빼는게좋음

-----------------------------------------------------
# mvc_model 2 총집합 구현

헤더(비로그인,로그인,관리자)
푸터
관리자로그인
로그인
회원가입
	유효성검사
	submit검수
회원정보수정
회원탈퇴
	함부로못지움(게시판의 글이 회원아이디참조)
	해당회원아이디의글을 먼저 지우는작업이필요
글쓰기
	로그인한사람만 글쓰기가능
게시판(페이징,답변글,파일첨부)
	테이블 조인해서 작성자이름도 나와야함
글상세보기
	이메일은 안나옴 굳이 dto에 안담아도됨
답글쓰기
글수정
글삭제

---
- memberdao 이메일중복체크 쿼리하나 추가됨   DAO에서 추가구현 필요
- BoardDto 만들때 mname도 집어넣야됨 조인해서 게시판출력할거임
- 사진첨부 폴더 이것저것생각해야함
- 조회수올리는로직 글상세보기안에서 처리안했음 따로 불러야함

1. DDL + dummy data 넣기
2. dao 에 넣을 쿼리 실행
3. dto 및 dao 생성
4. member 관련 기능 추가
(controller에 요청경로 추가 -> Service 구현 -> View 구현)
5. admin 관련 기능 추가
(controller에 요청경로 추가 -> Service 구현 -> View 구현)
6. 파일첨부 게시판 관련 기능 추가
(controller에 요청경로 추가 -> Service 구현 -> View 구현)

정보수정시 사용자 미작성시 기존데이터 유지시킬거
비밀번호, 사진


--선생님꺼보고 추가구현할꺼
정보수정페이지를 처음접근시 로그인페이지로 전환시키는데 next매개변수를 보내서
로그인완료시 수정페이지로 (완)

정보수정중에 이메일 원래작성했던것이면 아무 메세지도 안나오게 (빈스트링)

-관리자로그인페이지
사용자로그인중에 관리자로그인은 불가능하게 
관리자 로그인중에 관리자로그인은 불가능하게









--------복습

response.sendRedirect()로 그냥 url에 매개변수로 한글입력해서 보내면
아무인코딩도 안된상태로 보내버리기때문에 한글이 깨져서 에러가난다.

보통 form태그의 get방식이나 post방식은 자체적인 인코딩으로 보내기때문에
get방식은 한글도 잘가고
post방식은 받는쪽에서 request.setCharacterEncoding("utf-8"); 만 해주면된다

그러나 맨위처럼 센드리다이렉트해서 직접 문자열에 넣을거면 그냥 보내면안되고
매개변수만 String 변수로 빼서 URLEncoder.encode("매개변수","utf-8");
이렇게 직접 인코딩해서 보내야한다

