# 4장 서블릿 웹프로그래밍

앞으로 우리는 홈디렉토리에는 index말고 따로 생성하지않을거고
디렉토리들을 생성해서 분류할것이다. 서블릿이나 자바파일은 자바 리소스-src 디렉토리내에 생성하고 분류할것이다.
-----
### context path
WAS에서 웹어플리케이션을 구분하기위한 path. 해당 웹어플리케이션의 이름. 이클립스에서 프로젝트 생성시 자동으로 server.xml에 추가된다. 그러므로 프로젝트를 삭제하고 다시 같은이름의 프로젝트를 생성할 수 없다.

서블릿은 자바에서 웹애플리케이션을 개발할 수 있도록 만들어졌다.
HttpServlet 추상클래스로부터 상속받아서 작성한다.

-----
### 서블릿의 라이프사이클 (생명주기)

Servlet의 사용도가 높은 이유는 빠른 응답 속도 때문. Servlet은 최초 요청 시 객체가 만들어져 메모리에 로딩되고, 이후 요청 시에는 기존의 객체를 재활용하게 된다. 따라서 동작 속도가 빠르다.

서블릿의 상속받은 메소드들

 - init()
 서블릿 객체가 생성될 때 실행 (메모리에 로드)

서버가 한번 실행되면 서버가 꺼지지 않는 이상 서블릿객체는 메모리에 계속 떠있다.
메모리에 로드될때 딱 한번 실행된다.

 - destroy()
 서블릿 객체가 소멸될 때 실행 (메모리에서 사라질때)
톰캣서버를 끄면 실행됨. 즉 서블릿은 서버를 끄기전까지 메모리에 계속 상주한다. 

 - service() 
 기본적으로 doGet,doPost 등을 호출한다.
그러나 service메소드를 사용자가 오버라이드 하게되면 doGet을 호출한다고 명시해주지않는이상 doGet은 실행되지않게된다.
강사님은 service를 오버라이드하지말라고 하신다.

-----
PHP 누군가 클라이언트가 요청을 하면 객체를 새로 생성해서 프로세스를 생성한다.
여러사람이 요청하면 객체가 계속 생성되고 프로세스가 많이생겨난다. 브라우저를 끄면 객체가 메모리에서 사라진다.

그러나 JSP는 서블렛이 메모리에 한번 상주하면 서버를 끄기전까지 계속 올라가있고 
클라이언트가 요청시 똑같이 생긴 쓰레드를 생성한다. 멀티 쓰레드. 타언어에 비해서 반응속도가 빠르다(객체 생성이 시간이 오래걸리기때문)
-----
선처리 후처리
import javax.annotation.PostConstruct;
@PostConstruct
init() 메소드보다 먼저실행됨 

import javax.annotation.PreDestroy;
@PreDestroy
destroy() 메소드보다 나중에 실행됨
-----
### 서블릿 초기화 파라미터
서블릿 내에서 명시하거나, web.xml에서 명시할수 있다


getInitParameter() 메서드를 이용해서 접근한다.

-----
### 공유파라미터 
web.xml에서만 명시할수 있다
한 프로젝트 내 여러 서블릿에서 공유할수있는 공유데이터.
web.xml에서 명시할때 servlet에 대한 기술보다 위에 기술해야한다.

getServletContext() 메서드로 접근 
-----
### 웹 어플리케이션 감시 : ServletContextListener
위에서 알아본 서블릿 메소드 init은 서블릿이 메모리에 로드된시점과 종료되는 시점을 알수 있는데 이번에 알아볼것은 프로젝트(context)의 생명주기를 알수 있다

서블릿은 Http.. 추상클래스를 상속받는것과다르게 
이 클래스는 ServletContextListener인터페이스를 구현해야한다
class위에 @WebListener 선언을 해줘야 리스너로 인식한다.

contextInitialized() 웹프로젝트가 메모리에 로드되는 시점에 실행
contextDestroyed() 웹프로젝트가 메모리에서 소멸되는 시점에 실행

확인해보니까 다른프로젝트를 실행해도 기존 프로젝트가 같이 메모리에 올라가는것을 확인할수 있다. 닫아도 실행이 된다. 이클립스를 아예 껏다켜서 해보니까 메모리에 안올린다. 즉 JSP는 서버 오픈시 열려있는 프로젝트들을 전부 메모리에 올리고, 그이후 부터는 닫아도 계속 실행한다(이클립스종료까지). 평상시에 잘 닫아둬야한다.

--------
퀴즈1
하나도 선택안하면 선택한구구단이없습니다 알림 
html,css,서블릿

퀴즈2
html,서블릿
post방식

퀴즈3
css는 css폴더에
get방식

퀴즈4
겟방식 포스트방식 두개
색상미선택시 알림창
글씨색은 배경색선택 바로 앞
색상을 배열에 두고 전달


form[0] 의 onsubmit

form[1] 의 onsubmit


퀴즈5(css노트에 있음)
html,css,서블릿
포스트방식



조인(css는 노트에 다있음)
취미는 없으면 없음, 여러개면 여러개
메일수신은 여러가지,미선택시 알림창










-----구글검색
웹 컨테이너란? https://doozi316.github.io/web/2020/09/13/WEB26/

WEB-INF - classes  뉴렉쳐에서는 서블릿을 여기서 관리했던거같은데

service()

@PostConstruct  @PreDestroy
-----복습
<pre></pre> 태그 : 줄바꿈 등 글의 스타일을 그대로 적용할수 있는 html태그

자바스크립트 노드.checked
해당 문서객체가 체크되어있는지 불리언여부  false true 반환해주는 것
사용하는 태그 예)
<input type="checkbox">
<input type="radio">

노드.selected    select태그를 노드로 가져와서 체크되었는지 확인하는 불리언 
<select name="parameter"><option>1단</option></select>


반복문에서 몇개 선택했는지 확인하려면
카운트변수를 0으로 두고, 체크박스가 checked되어있는지 불리언변수를 + 더하면
true 라면 1 더하고 false면 0 더한다. 자바스크립트는 형변환을 자유자재로 해준다. 

html  fieldset 태그

submit 유효성검사는 자바스크립트로 구현하는게 좋다. 페이지 넘어가고나서 검사하는건 부하가 많기때문

get방식은 글자안깨짐

이클립스 ctrl + 1   에러 해결방법
ctrl + t  클래스 계보
alt + shift + s   각종편의성소스제공 

context_root는 server.xml에서 관명시
servlet 매핑url은 web.xml에서 명시하거나 서블릿 내에서 어노테이션으로 명시
